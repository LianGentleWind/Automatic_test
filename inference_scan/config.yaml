# 自动化参数扫描与分析系统配置文件

# 参数扫描配置
scan:
  # 基础runtime配置文件路径
  base_runtime_config: "./automatic/base/runtime_S3_8K_automatic_256P.json"
  # 基础系统配置文件路径（如果param_path指向系统配置中的参数）
  base_sys_config: "./configs/260126SOW/npu/SOW_S3_POR.json"
  # 要测试的参数路径，支持：
  # - 简单路径：如 "mem1.GiB"
  # - 数组索引路径：如 "networks[0].bandwidth"
  # 注意：此值同时用于扫描和分析，会自动转换为文件名格式（如 "mem1.GiB" -> "mem1_GiB"）
  param_path: "mem1.GiB"
  
  # 参数生成模式配置
  param_mode:
    # 格式类型：single（单个数值）、pair（相同值数组如[1,1]）或 pair_null_first（[null, v] 仅修改第二个值）
    format: single
    # 数值类型：arithmetic（等差数列）或 power_of_2（2的幂次）
    value_type: arithmetic
    # arithmetic 模式参数
    start: 1
    end: 256
    step: 1
    # power_of_2 模式参数
    start_power: 0
    end_power: 10
  
  # 输出目录
  output_dir: "./automatic/test_results"
  # 生成的配置文件保存目录
  generated_configs_dir: "./automatic/generated_configs"
  # 生成的运行脚本路径
  commands_file: "./automatic/run_simulations.sh"

# 运行配置
run:
  # 仿真命令模板
  command: "python3 run.py -c"

# 分析配置
analyze:
  # 结果目录（扫描此目录下的所有CSV文件）
  results_dir: "./automatic/test_results"
  # 汇总分析输出文件
  output_file: "./automatic/analysis_summary.csv"
  # 需要提取的关键字段列表
  key_fields:
    - "decoder_throughput(token/s)"
    - "decoder_throughput_per_npu(token/s)"
